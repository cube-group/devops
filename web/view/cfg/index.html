{{define "cfg/index.html"}}
    {{template "layout/top.html" .}}
    <div class="panel">
        <div class="panel-heading">
            <div class="panel-title">
                系统配置-镜像仓库配置
            </div>
            <div class="right">
                <button type="button" class="btn-toggle-collapse"><i class="lnr lnr-chevron-up"></i>
                </button>
            </div>
        </div>
        <div class="panel-body" style="padding-left: 40px;">
            <div class="form-group">
                <label>仓库域<span style="color: #FF1717">*</span></label>
                <input type="text" class="form-control" v-model="cfg.registryHost" placeholder="registry.xx.com">
            </div>
            <div class="form-group">
                <label>账户</label>
                <input type="text" class="form-control" v-model="cfg.registryUsername" placeholder="账号">
            </div>
            <div class="form-group">
                <label>密码</label>
                <input type="password" class="form-control" v-model="cfg.registryPassword" placeholder="密码">
            </div>
            <div class="form-group">
                <label>命名空间</label>
                <input type="text" class="form-control" v-model="cfg.registryNamespace" placeholder="如：test">
            </div>
        </div>
    </div>
    <div class="form-group">
        <a class="btn btn-primary" @click="onSave()">保存</a>
    </div>

    <script>
        var cfg = {{.cfg}};
        if (!cfg) {
            cfg = {};
        }
    </script>
    <!-- vue -->
    <script>
        vueMixin = {
            data: {
                cfg: cfg,
            },
            methods: {
                onSave() {
                    displayConfirm('确认保存?', '确认', '取消', () => {
                        var requestURL = baseURL('/cfg');
                        var data = deepCloneObject(this.cfg);
                        reqPostJson(requestURL, data, baseURL('/cfg'));
                    });
                },
            },
            created() {
            },
        };
    </script>

    {{template "layout/footer.html" . }}
{{end}}