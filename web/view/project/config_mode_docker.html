{{define "project/config_mode_docker.html"}}

    <div v-show="project.mode=='docker'">
        <!-- shell -->
        <div class="form-group">
            <label>
                Ci Shell
            </label>
            <textarea rows="10" class="form-control"
                      placeholder="docker build之前的准备脚本，如：git、maven、java、npm等处理"
                      v-model="project.docker.shell"></textarea>
        </div>
        <!-- dockerfile -->
        <div class="form-group">
            <label>
                Dockerfile<span style="color: #FF1717">*</span>
            </label>
            <textarea rows="10" class="form-control"
                      placeholder="FROM nginx:alpine ... 不能为空"
                      v-model="project.docker.dockerfile"></textarea>
        </div>
        <!-- run options -->
        <div class="form-group">
            <label>Docker run options</label>
            <input class="form-control"
                   placeholder="--privileged -v xx:/xx -p 8080:80 -e ABC=true ..."
                   v-model="project.docker.runOptions"/>
        </div>
        <!-- fast copy -->
        <div class="form-group">
            <label>Docker COPY</label>
            <div v-for="(v,i) in project.docker.volume"
                 style="border: 1px solid transparent;border-color: #0a6aa1;border-radius: 3px;">
                <div class="input-group">
                    <div class="input-group-addon">
                        <div style="width:70px;">Type</div>
                    </div>
                    <select class="form-control" v-model.number="v.type">
                        <option value="content">Content</option>
                        <option value="url">URL</option>
                    </select>
                    <div class="input-group-addon">
                        Path
                    </div>
                    <input class="form-control" v-model="v.path" placeholder="/a/b/c.json">
                    <div class="input-group-btn">
                        <a class="btn btn-success" v-if="i==0"
                           @click="objectArrayAdd(project.docker.volume,{type:'content'})"
                           style="width:80px;">ADD</a>
                        <a class="btn btn-danger" v-if="i>0" @click="objectArrayDel(project.docker.volume,i)"
                           style="width:80px;">DEL</a>
                    </div>
                </div>
                <div class="input-group">
                    <div class="input-group-addon">
                        <div style="width:70px;">Value</div>
                    </div>
                    <textarea class="form-control" v-model="v.content" placeholder="file content"
                              v-show="v.type=='content'" rows="8"></textarea>
                    <input class="form-control" v-model="v.content"
                           placeholder="url for example: https://a.com/abc.json"
                           v-show="v.type=='url'">
                </div>
            </div>
        </div>
    </div>

{{end}}









